# üîç Performance Analysis Report - PetVibe Frontend

## üìã 1. Sitemap & C·∫•u tr√∫c d·ª± √°n

```
src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProductsPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CategoriesPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ carts/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CartsPage.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ChatHistory.jsx
‚îÇ   ‚îú‚îÄ‚îÄ staff/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StaffProductsPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StaffCategoriesPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StaffOrdersPage.jsx ‚ö†Ô∏è (File kh·∫£ nghi theo screenshot)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StaffReviewsPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StaffDashboard.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StaffProfilePage.jsx
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductTest.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrdersTest.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryTest.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ APITestSummary.jsx
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ AppRoutes.jsx
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ products.js
‚îÇ   ‚îú‚îÄ‚îÄ categories.js
‚îÇ   ‚îú‚îÄ‚îÄ orders.js
‚îÇ   ‚îú‚îÄ‚îÄ cart.js
‚îÇ   ‚îú‚îÄ‚îÄ chatHistory.js
‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îî‚îÄ‚îÄ petProfiles.js
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ axios.js ‚ö†Ô∏è (Interceptors)
‚îÇ   ‚îú‚îÄ‚îÄ products.js
‚îÇ   ‚îú‚îÄ‚îÄ categories.js
‚îÇ   ‚îú‚îÄ‚îÄ orders.js
‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ context/
    ‚îú‚îÄ‚îÄ AuthContext.jsx ‚ö†Ô∏è
    ‚îú‚îÄ‚îÄ CartContext.jsx ‚ö†Ô∏è
    ‚îú‚îÄ‚îÄ WishlistContext.jsx ‚ö†Ô∏è
    ‚îú‚îÄ‚îÄ LoadingContext.jsx
    ‚îî‚îÄ‚îÄ ToastContext.jsx
```

---

## üìç 2. Admin Pages - Route & API Calls

### 2.1 AdminDashboard
- **File**: `src/pages/admin/AdminDashboard.jsx`
- **Route**: `/admin/dashboard` ho·∫∑c `/admin`
- **Component**: `AdminDashboard`

**API Calls:**
| Method | URL | Logic | Headers | N∆°i g·ªçi | Line |
|--------|-----|-------|---------|---------|------|
| GET | `/products/getAll` | `dataManager.get('products', getAllProducts)` | Bearer token | `useEffect(() => {loadStats()}, [])` | 58-59 |
| GET | `/categories/getAll` | `dataManager.get('categories', getAllCategories)` | Bearer token | `useEffect(() => {loadStats()}, [])` | 58-59 |

**Ph√¢n t√≠ch:**
- ‚úÖ `useEffect` c√≥ `[]` ‚Üí OK
- ‚ùå Kh√¥ng c√≥ polling/refetch t·ª± ƒë·ªông

---

### 2.2 ProductsPage (Admin)
- **File**: `src/pages/admin/products/ProductsPage.jsx`
- **Route**: `/admin/products`
- **Component**: `ProductsPage`

**API Calls:**
| Method | URL | Logic | Headers | N∆°i g·ªçi | Line |
|--------|-----|-------|---------|---------|------|
| GET | `/products/getAll` | `dataManager.get('products', getAllProducts)` | Bearer token | `useEffect(() => {loadData()}, [])` | 84-86 |
| GET | `/categories/getAll` | `dataManager.get('categories', getAllCategories)` | Bearer token | `useEffect(() => {loadData()}, [])` | 84-86 |
| POST | `/products` | `createProduct(submitData)` | Bearer token | `handleSubmit()` | 108-138 |
| PUT | `/products/{id}` | `updateProduct(id, submitData)` | Bearer token | `handleSubmit()` | 108-138 |
| DELETE | `/products/{id}` | `deleteProduct(productId)` | Bearer token | `handleDelete()` | 154-167 |

**Ph√¢n t√≠ch:**
- ‚úÖ `useEffect` c√≥ `[]` ‚Üí OK
- ‚ö†Ô∏è Filter effect (line 89-106) ph·ª• thu·ªôc `products` state ‚Üí c√≥ th·ªÉ trigger re-render nh∆∞ng kh√¥ng g·ªçi API
- ‚ùå Kh√¥ng c√≥ polling

---

### 2.3 CategoriesPage (Admin)
- **File**: `src/pages/admin/categories/CategoriesPage.jsx`
- **Route**: `/admin/categories`
- **Component**: `CategoriesPage`

**API Calls:**
| Method | URL | Logic | Headers | N∆°i g·ªçi | Line |
|--------|-----|-------|---------|---------|------|
| GET | `/categories/getAll` | `dataManager.get('categories', getAllCategories)` | Bearer token | `useEffect(() => {loadCategories()}, [])` | 64-66 |
| POST | `/categories` | `createCategory(values)` | Bearer token | `handleSubmit()` | 81-104 |
| PUT | `/categories/{id}` | `updateCategory(id, values)` | Bearer token | `handleSubmit()` | 81-104 |
| DELETE | `/categories/{id}` | `deleteCategory(categoryId)` | Bearer token | `handleDelete()` | 115-128 |

**Ph√¢n t√≠ch:**
- ‚úÖ `useEffect` c√≥ `[]` ‚Üí OK
- ‚ö†Ô∏è Filter effect (line 69-79) ph·ª• thu·ªôc `categories` state ‚Üí kh√¥ng g·ªçi API
- ‚ùå Kh√¥ng c√≥ polling

---

### 2.4 StaffOrdersPage ‚ö†Ô∏è **KH·∫¢ NGHI CAO**
- **File**: `src/pages/staff/StaffOrdersPage.jsx`
- **Route**: `/staff/orders`
- **Component**: `StaffOrdersPage`

**API Calls:**
| Method | URL | Logic | Headers | N∆°i g·ªçi | Line |
|--------|-----|-------|---------|---------|------|
| GET | `/orders/getAll` | `dataManager.get('orders', getAllOrders)` | Bearer token | `useEffect(() => {loadOrders(); ...}, [])` | 70-78 |
| PUT | `/orders/{id}/status` | `updateOrderStatus(orderId, newStatus)` | Bearer token | `handleStatusUpdate()` | 99-112 |

**Ph√¢n t√≠ch:**
- ‚úÖ `useEffect` c√≥ `[]` ‚Üí OK (line 70-78)
- ‚ö†Ô∏è **C√ì TH·ªÇ C√ì V·∫§N ƒê·ªÄ**: Effect ph·ª• thu·ªôc `searchParams` (line 74-77) nh∆∞ng kh√¥ng c√≥ trong deps
- ‚ö†Ô∏è Filter effect (line 81-97) ph·ª• thu·ªôc `orders` ‚Üí kh√¥ng g·ªçi API

**‚ö†Ô∏è KHUY·∫æN NGH·ªä**: Ki·ªÉm tra xem c√≥ polling ·∫©n ho·∫∑c re-render loop kh√¥ng

---

### 2.5 CartsPage (Admin)
- **File**: `src/pages/admin/carts/CartsPage.jsx`
- **Route**: `/admin/carts`
- **Component**: `CartsPage`

**API Calls:**
| Method | URL | Logic | Headers | N∆°i g·ªçi | Line |
|--------|-----|-------|---------|---------|------|
| GET | `/carts/getAll` | `getAllCarts()` | Bearer token | `useEffect(() => {loadData()}, [])` | 40-42 |
| GET | `/products/getAll` | `getAllProducts()` | Bearer token | `useEffect(() => {loadData()}, [])` | 40-42 |
| DELETE | `/carts/{id}` | `deleteCartItem(cartId)` | Bearer token | `handleDeleteCart()` | 70-82 |
| DELETE | `/carts/{id}` (nhi·ªÅu) | `deleteCartItem()` trong loop | Bearer token | `handleClearAllCarts()` | 84-97 |

**Ph√¢n t√≠ch:**
- ‚úÖ `useEffect` c√≥ `[]` ‚Üí OK
- ‚ùå Kh√¥ng c√≥ polling

---

### 2.6 ChatHistory (Admin)
- **File**: `src/pages/admin/ChatHistory.jsx`
- **Route**: `/admin/chat-history`
- **Component**: `ChatHistory`

**API Calls:**
| Method | URL | Logic | Headers | N∆°i g·ªçi | Line |
|--------|-----|-------|---------|---------|------|
| GET | `/chat-history/getAll` | `chatHistoryApi.getAll()` | Bearer token | `useEffect(() => {loadChats()}, [])` | 67-69 |
| PUT | `/chat-history/{id}` | `chatHistoryApi.updateById(id, data)` | Bearer token | `handleUpdate()` | 90-110 |
| DELETE | `/chat-history/{id}` | `chatHistoryApi.deleteById(id)` | Bearer token | `handleDelete()` | 113-122 |
| POST | `/chat-history/manual` | `chatHistoryApi.createManual(data)` | Bearer token | `handleCreate()` | 125-151 |

**Ph√¢n t√≠ch:**
- ‚úÖ `useEffect` c√≥ `[]` ‚Üí OK
- ‚ùå Kh√¥ng c√≥ polling

---

### 2.7 Test Components

#### ProductTest.jsx
- **Route**: `/admin/test-products`
- **File**: `src/components/admin/ProductTest.jsx`
- **M·ª•c ƒë√≠ch**: Test API products

#### OrdersTest.jsx
- **Route**: `/admin/test-orders`
- **File**: `src/components/admin/OrdersTest.jsx`
- **M·ª•c ƒë√≠ch**: Test API orders

#### CategoryTest.jsx
- **Route**: `/admin/test`
- **File**: `src/components/admin/CategoryTest.jsx`
- **M·ª•c ƒë√≠ch**: Test API categories

#### APITestSummary.jsx
- **Route**: `/admin/api-summary`
- **File**: `src/components/admin/APITestSummary.jsx`
- **M·ª•c ƒë√≠ch**: T·ªïng h·ª£p test API

‚ö†Ô∏è **C·∫¢NH B√ÅO**: C√°c test components c√≥ th·ªÉ g·ªçi API li√™n t·ª•c trong dev mode!

---

## üö® 3. Pattern g√¢y "spam request"

### 3.1 useEffect kh√¥ng c√≥ deps ho·∫∑c deps kh√¥ng ·ªïn ƒë·ªãnh

| File | Line | Pattern | M√¥ t·∫£ | Nguy c∆° |
|------|------|---------|-------|---------|
| `src/pages/staff/StaffOrdersPage.jsx` | 70-78 | `useEffect(() => {...}, [])` | C√≥ logic ƒë·ªçc `searchParams` nh∆∞ng kh√¥ng c√≥ trong deps | ‚ö†Ô∏è Medium |
| `src/components/ai/useAIAnalysis.js` | 14-71 | Multiple `useEffect` | C·∫ßn ki·ªÉm tra deps | ‚ö†Ô∏è Medium |

‚úÖ **H·∫ßu h·∫øt admin pages ƒë√£ c√≥ `[]` ‚Üí OK**

---

### 3.2 setInterval/setTimeout kh√¥ng clear

| File | Line | Pattern | M√¥ t·∫£ | Nguy c∆° | Fix |
|------|------|---------|-------|---------|-----|
| `src/components/sections/TestimonialsSection.jsx` | 70 | `setInterval(() => {...}, ms)` | ‚ùå Kh√¥ng clear | üî¥ **HIGH** | Th√™m cleanup |
| `src/components/common/HeroCarousel.jsx` | 71 | `setInterval(() => {...}, ms)` | ‚ùå Kh√¥ng clear | üî¥ **HIGH** | Th√™m cleanup |
| `src/components/common/Carousel.jsx` | 28 | `setInterval(() => {...}, ms)` | ‚ùå Kh√¥ng clear | üî¥ **HIGH** | Th√™m cleanup |
| `src/components/common/LoadingWithTimeout.jsx` | 13 | `setInterval(() => {...}, ms)` | ‚ùå Kh√¥ng clear | üî¥ **HIGH** | Th√™m cleanup |
| `src/components/sections/Footer.jsx` | 15 | `setTimeout(() => {...}, 3000)` | ‚úÖ C√≥ clear (component unmount) | ‚úÖ Low | OK |
| `src/App.js` | 32 | `setTimeout(() => {...}, 400)` | ‚úÖ C√≥ clear | ‚úÖ Low | OK |
| `src/pages/staff/StaffReviewsPage.jsx` | 118, 163 | `setTimeout(() => {...}, delay)` | ‚ö†Ô∏è Delay trong async | ‚ö†Ô∏è Medium | Ki·ªÉm tra cleanup |

---

### 3.3 React Query / SWR

‚ùå **KH√îNG T√åM TH·∫§Y** `react-query`, `SWR`, ho·∫∑c `useSWR` trong codebase.

---

### 3.4 Axios Interceptors

| File | Line | Pattern | M√¥ t·∫£ | Nguy c∆° |
|------|------|---------|-------|---------|
| `src/api/axios.js` | 27-38 | `axiosInstance.interceptors.request.use(...)` | ‚úÖ OK, kh√¥ng g·ªçi axios l·∫°i | ‚úÖ Low |
| `src/api/axios.js` | 40-49 | `axiosInstance.interceptors.response.use(...)` | ‚úÖ OK, kh√¥ng g·ªçi axios l·∫°i | ‚úÖ Low |

‚úÖ **Interceptors ·ªïn ƒë·ªãnh, kh√¥ng c√≥ v√≤ng l·∫∑p**

---

### 3.5 Service Worker / HMR

| Pattern | File | Status |
|---------|------|--------|
| `serviceWorker.register()` | ‚ùå Kh√¥ng t√¨m th·∫•y | ‚úÖ OK |
| `module.hot` | ‚ùå Kh√¥ng t√¨m th·∫•y | ‚úÖ OK |
| `hot-update.json` | ‚ö†Ô∏è Webpack HMR t·ª± ƒë·ªông | ‚ö†Ô∏è ƒê√¢y l√† HMR polling |

**‚ö†Ô∏è HMR Polling**: File `main-<hash>.hot-update.json` l√† do Webpack Dev Server HMR. C√≥ th·ªÉ spam n·∫øu:
- Component re-render li√™n t·ª•c
- C√≥ setInterval kh√¥ng clear ‚Üí trigger HMR check

---

## üìä 4. B·∫£ng t·ªïng h·ª£p c√°c v·∫•n ƒë·ªÅ

| File | D√≤ng | Lo·∫°i | M√¥ t·∫£ | Nguy c∆° spam | G·ª£i √Ω fix |
|------|------|------|-------|--------------|-----------|
| `src/components/sections/TestimonialsSection.jsx` | 70 | `setInterval` | Auto-rotate testimonials | üî¥ **HIGH** | Th√™m `clearInterval` trong cleanup |
| `src/components/common/HeroCarousel.jsx` | 71 | `setInterval` | Auto-advance carousel | üî¥ **HIGH** | Th√™m `clearInterval` trong cleanup |
| `src/components/common/Carousel.jsx` | 28, 41, 47, 53 | `setInterval` + `setTimeout` | Auto-play carousel | üî¥ **HIGH** | Th√™m cleanup cho t·∫•t c·∫£ timers |
| `src/components/common/LoadingWithTimeout.jsx` | 13 | `setInterval` | Timeout counter | üî¥ **HIGH** | Th√™m `clearInterval` trong cleanup |
| `src/pages/staff/StaffOrdersPage.jsx` | 70-78 | `useEffect` | ƒê·ªçc `searchParams` nh∆∞ng kh√¥ng c√≥ trong deps | ‚ö†Ô∏è Medium | Th√™m `searchParams` v√†o deps ho·∫∑c t√°ch effect |
| `src/pages/staff/StaffOrdersPage.jsx` | 39 (initiator) | **Kh·∫£ nghi** | C√≥ th·ªÉ polling ho·∫∑c re-render loop | üî¥ **HIGH** | Ki·ªÉm tra k·ªπ, xem c√≥ setInterval ·∫©n kh√¥ng |
| `src/components/admin/*Test.jsx` | N/A | Test components | C√≥ th·ªÉ g·ªçi API li√™n t·ª•c trong dev | ‚ö†Ô∏è Medium | ƒê·∫£m b·∫£o ch·ªâ ch·∫°y khi click button |
| `src/index.js` | 29 | `StrictMode` | ‚úÖ ƒê√£ t·∫Øt | ‚úÖ OK | Gi·ªØ nguy√™n |
| `src/api/axios.js` | 27-49 | Interceptors | ‚úÖ ·ªîn ƒë·ªãnh | ‚úÖ OK | Gi·ªØ nguy√™n |

---

## üõ†Ô∏è 5. Script ki·ªÉm tra nhanh (Grep)

```bash
# T√¨m useEffect
grep -RIn "useEffect(" src | cat

# T√¨m setInterval/setTimeout
grep -RIn "setInterval|setTimeout|useInterval" src | cat

# T√¨m react-query/SWR (n·∫øu c√≥)
grep -RIn "refetchInterval|refetchOnWindowFocus|retry|useSWR|SWRConfig" src | cat

# T√¨m axios interceptors
grep -RIn "interceptors.request|interceptors.response" src | cat

# T√¨m Service Worker
grep -RIn "serviceWorker|register\(" src | cat

# T√¨m HMR
grep -RIn "module.hot|hot-update" src | cat
```

---

## üîß 6. B·∫£n v√° t·ªëi thi·ªÉu (Quick Fixes)

### 6.1 S·ª≠a setInterval kh√¥ng clear

**File: `src/components/sections/TestimonialsSection.jsx`**
```javascript
// Line 70
useEffect(() => {
  if (!autoPlay) return;
  
  const interval = setInterval(() => {
    // ... logic
  }, 5000);
  
  return () => clearInterval(interval); // ‚úÖ TH√äM
}, [autoPlay, currentIndex]);
```

**File: `src/components/common/HeroCarousel.jsx`**
```javascript
// Line 71
useEffect(() => {
  if (!autoPlay) return;
  
  const timer = setInterval(() => {
    // ... logic
  }, interval);
  
  return () => clearInterval(timer); // ‚úÖ TH√äM
}, [autoPlay, interval, currentSlide, totalSlides]);
```

**File: `src/components/common/Carousel.jsx`**
```javascript
useEffect(() => {
  if (!isAutoPlaying) return;
  
  const interval = setInterval(() => {
    // ... logic
  }, autoPlayInterval);
  
  return () => clearInterval(interval); // ‚úÖ TH√äM
}, [isAutoPlaying, autoPlayInterval, currentIndex]);

// V√† cleanup c√°c setTimeout
useEffect(() => {
  const timer1 = setTimeout(() => setIsAutoPlaying(true), 10000);
  const timer2 = setTimeout(() => setIsAutoPlaying(true), 10000);
  
  return () => {
    clearTimeout(timer1);
    clearTimeout(timer2);
  };
}, [dependencies]);
```

**File: `src/components/common/LoadingWithTimeout.jsx`**
```javascript
// Line 13
useEffect(() => {
  const interval = setInterval(() => {
    // ... logic
  }, 1000);
  
  return () => clearInterval(interval); // ‚úÖ TH√äM
}, [timeout]);
```

### 6.2 S·ª≠a useEffect ph·ª• thu·ªôc kh√¥ng ƒë√∫ng

**File: `src/pages/staff/StaffOrdersPage.jsx`**
```javascript
// Line 70-78
useEffect(() => {
  loadOrders();
  
  const statusParam = searchParams.get('status');
  if (statusParam) {
    setSelectedStatus(statusParam);
  }
}, [searchParams]); // ‚úÖ TH√äM searchParams v√†o deps ho·∫∑c t√°ch ra
```

### 6.3 T·∫Øt StrictMode (ƒë√£ t·∫Øt)

‚úÖ `src/index.js` line 29: `StrictMode` ƒë√£ ƒë∆∞·ª£c comment ‚Üí OK

### 6.4 Th√™m AbortController cho API calls

**V√≠ d·ª•: `src/pages/admin/AdminDashboard.jsx`**
```javascript
useEffect(() => {
  const abortController = new AbortController();
  
  const loadStats = async () => {
    try {
      // Pass signal to axios
      const [products, categories] = await Promise.all([
        dataManager.get('products', getAllProducts, { signal: abortController.signal }),
        dataManager.get('categories', getAllCategories, { signal: abortController.signal })
      ]);
      // ...
    } catch (error) {
      if (error.name === 'AbortError') return;
      // ...
    }
  };
  
  loadStats();
  
  return () => abortController.abort(); // ‚úÖ Cancel khi unmount
}, []);
```

### 6.5 Th√™m log b·∫£o v·ªá (debounce)

**File: `src/api/axios.js`**
```javascript
// Th√™m request counter
const requestCounts = new Map();

axiosInstance.interceptors.request.use((config) => {
  const url = config.url || '';
  const key = `${config.method}_${url}`;
  const now = Date.now();
  
  if (!requestCounts.has(key)) {
    requestCounts.set(key, { count: 0, lastReset: now });
  }
  
  const record = requestCounts.get(key);
  if (now - record.lastReset > 10000) {
    record.count = 0;
    record.lastReset = now;
  }
  
  record.count++;
  
  if (record.count > 10) {
    console.warn(`‚ö†Ô∏è API spam detected: ${key} called ${record.count} times in 10s`);
  }
  
  // ... rest of interceptor
}, ...);
```

---

## üö® 7. Bi·ªán ph√°p t·ª©c th·ªùi (Tr∆∞·ªõc khi refactor)

### 7.1 Comment t·∫°m setInterval trong Admin pages

‚úÖ **Kh√¥ng c√≥ setInterval trong admin pages** ‚Üí Skip

### 7.2 T·∫Øt StrictMode

‚úÖ **ƒê√£ t·∫Øt** (`src/index.js` line 29)

### 7.3 Ki·ªÉm tra Service Worker

‚úÖ **Kh√¥ng c√≥ Service Worker** ‚Üí OK

### 7.4 N√¢ng refetchInterval (n·∫øu c√≥)

‚ùå **Kh√¥ng d√πng react-query/SWR** ‚Üí Skip

### 7.5 Ki·ªÉm tra .env

‚ö†Ô∏è **C·∫ßn ki·ªÉm tra**: 
- `REACT_APP_API_BASE_URL` c√≥ ƒë√∫ng kh√¥ng
- Kh√¥ng c√≥ retry loop do 401

---

## ‚úÖ 8. K·∫øt lu·∫≠n & ∆Øu ti√™n

### üî¥ **∆Øu ti√™n cao** (Fix ngay):
1. ‚úÖ **TestimonialsSection.jsx** - setInterval kh√¥ng clear
2. ‚úÖ **HeroCarousel.jsx** - setInterval kh√¥ng clear  
3. ‚úÖ **Carousel.jsx** - Multiple timers kh√¥ng clear
4. ‚úÖ **LoadingWithTimeout.jsx** - setInterval kh√¥ng clear
5. ‚ö†Ô∏è **StaffOrdersPage.jsx** - Ki·ªÉm tra k·ªπ line 39 (initiator t·ª´ screenshot)

### ‚ö†Ô∏è **∆Øu ti√™n trung b√¨nh**:
1. Th√™m AbortController cho t·∫•t c·∫£ API calls
2. S·ª≠a useEffect dependencies trong StaffOrdersPage
3. Th√™m log b·∫£o v·ªá (debounce) cho axios

### ‚úÖ **ƒê√£ OK**:
- StrictMode ƒë√£ t·∫Øt
- Axios interceptors ·ªïn ƒë·ªãnh
- Kh√¥ng c√≥ Service Worker
- Kh√¥ng d√πng react-query/SWR
- Admin pages useEffect ƒë·ªÅu c√≥ `[]`

---

## üìù Commit Message ƒë·ªÅ xu·∫•t

```
fix: throttle polling & stabilize effects to stop request storm

- Fix setInterval cleanup in TestimonialsSection, HeroCarousel, Carousel, LoadingWithTimeout
- Add AbortController to all API calls
- Fix useEffect dependencies in StaffOrdersPage
- Add request spam protection in axios interceptor
- Ensure all timers are properly cleaned up on unmount
```

